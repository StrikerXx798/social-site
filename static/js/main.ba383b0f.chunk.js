(this["webpackJsonpsocial-site"]=this["webpackJsonpsocial-site"]||[]).push([[1],{144:function(e,t,n){e.exports=n(233)},149:function(e,t,n){},150:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(47),u=n.n(s);n(149),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(19),o=n(20),i=n(22),l=n(21),f=(n(150),n(38)),d=n.n(f),p=n(32),g=n(24),m=n(39),h=n.n(m),E=function(e){return a.a.createElement("div",{className:h.a.friend},a.a.createElement("img",{src:e.friend.img,alt:"ava"}),a.a.createElement("div",null,e.friend.name))},b=function(e){var t=e.friends.map((function(e){return a.a.createElement(E,{key:e.name,friend:e})}));return a.a.createElement("div",{className:h.a.container},a.a.createElement("div",{className:h.a.header},"Friends"),a.a.createElement("div",{className:h.a.friends},t))},S=Object(g.b)((function(e){return{friends:e.sidebar.friends}}),(function(){return{}}))(b),O=[{name:"Profile",to:"profile",isNeedCount:!1},{name:"Messages",to:"dialogs",isNeedCount:!0},{name:"Users",to:"users",isNeedCount:!1},{name:"News",to:"news",isNeedCount:!1},{name:"Music",to:"music",isNeedCount:!1},{name:"Settings",to:"settings",isNeedCount:!1},{name:"Tests",to:"test",isNeedCount:!1}],v=function(e){return a.a.createElement("nav",{className:d.a.nav},O.map((function(t){return a.a.createElement(p.b,{to:"/".concat(t.to),activeClassName:d.a.activeLink},a.a.createElement("div",{className:d.a.item},t.name,t.isNeedCount&&e.newMessagesCount>0&&a.a.createElement("div",{className:d.a.newMessagesCount},e.newMessagesCount)))})),a.a.createElement(S,null))},_=n(8),w=n(2),j=n(27),y={initialized:!1,globalError:""},C={initializedSuccess:function(){return{type:"INITIALIZED_SUCCESS"}},setGlobalError:function(e){return{type:"SET_GLOBAL_ERROR",errorMessage:e}}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{initialized:!0});case"SET_GLOBAL_ERROR":return Object(w.a)(Object(w.a)({},e),{},{globalError:t.errorMessage});default:return e}},N=n(51),U=n(14),I=n(65),A=n(48),M={friends:[{id:1,name:"Jey",img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"},{id:2,name:"Kristin",img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"},{id:3,name:"Mike",img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"}]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;return t.type,e},k=n(86),D=n(90),P=n(85),G=Object(U.c)({profilePage:I.a,dialogsPage:A.b,sidebar:x,usersPage:k.a,auth:j.a,form:P.a,app:T}),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.d,R=Object(U.e)(G,L(Object(U.a)(D.a)));window.store=R;var F=R,B=n(61),X=n.n(B),z=n(49),Z=n(92),W=n.n(Z),H=function(e){return a.a.createElement("header",{className:X.a.header},a.a.createElement("img",{src:W.a,alt:""}),a.a.createElement("div",{className:X.a.loginBlock},e.isAuth?a.a.createElement("div",null,e.login," ",a.a.createElement(z.b,{name:"Logout",callback:e.logout})):a.a.createElement(z.b,{callback:function(){e.history.push("/login")},name:"Sign In"})))},J=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return a.a.createElement(H,this.props)}}]),n}(a.a.Component),q=Object(U.d)(_.g,Object(g.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{getAuthUserData:j.b,logout:j.d}))(J),Q=n(93),V=n.n(Q),K=n(62),Y=n.n(K),$=function(){return a.a.createElement("div",{className:Y.a.container},a.a.createElement("img",{className:Y.a.img,src:V.a,alt:"404 not found"}))},ee=n(94),te=n.n(ee),ne=n(95),re=n.n(ne),ae=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(o.a)(n,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("div",{className:re.a.container},a.a.createElement("img",{src:te.a,alt:""}),a.a.createElement("h1",null,"Sorry, some error")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(a.a.Component);console.log({type:"SET_AGE",age:8});var se=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={test:!1},r}return Object(o.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,"TEST")}}]),n}(a.a.Component),ue=a.a.lazy((function(){return n.e(10).then(n.bind(null,324))})),ce=a.a.lazy((function(){return n.e(8).then(n.bind(null,325))})),oe=a.a.lazy((function(){return n.e(9).then(n.bind(null,326))})),ie=a.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,329))})),le=a.a.lazy((function(){return n.e(6).then(n.bind(null,330))})),fe=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,328))})),de=a.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,327))})),pe=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(t){var n=t.reason;e.props.showGlobalError(n.toJSON().message)},e.intervalId=null,e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),this.props.getNewMessages(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentDidUpdate",value:function(e,t,n){var r=this;this.props.isAuth&&null===this.intervalId&&(this.intervalId=setInterval((function(){r.props.getNewMessages()}),4e3)),this.props.isAuth||clearInterval(this.intervalId)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors),clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this;return this.props.initialized?a.a.createElement(ae,null,a.a.createElement("div",{className:"app-wrapper"},a.a.createElement(q,null),a.a.createElement(v,{newMessagesCount:this.props.newMessagesCount}),a.a.createElement("div",{className:"app-wrapper-content"},a.a.createElement(_.d,null,a.a.createElement(_.b,{exact:!0,path:"/",render:function(){return a.a.createElement(_.a,{to:"/profile"})}}),a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(N.a,null)},a.a.createElement(_.b,{path:"/dialogs/:userId?",render:function(t){return a.a.createElement(ie,{newMessagessCount:e.props.newMessagesCount,userId:t.match.params.userId})}}),a.a.createElement(_.b,{path:"/profile/:userId?",render:function(){return a.a.createElement(fe,null)}}),a.a.createElement(_.b,{path:"/users",render:function(){return a.a.createElement(le,{pageTitle:"Samurai"})}}),a.a.createElement(_.b,{path:"/news",render:function(){return a.a.createElement(oe,null)}}),a.a.createElement(_.b,{path:"/music",render:function(){return a.a.createElement(ce,null)}}),a.a.createElement(_.b,{path:"/settings",render:function(){return a.a.createElement(ue,null)}}),a.a.createElement(_.b,{path:"/login",render:function(){return a.a.createElement(de,null)}}),a.a.createElement(_.b,{path:"/test",render:function(){return a.a.createElement(se,null)}})),a.a.createElement(_.b,{path:"*",render:function(){return a.a.createElement($,null)}}))))):a.a.createElement("div",{className:"preloader"},a.a.createElement(N.a,null))}}]),n}(a.a.Component),ge=Object(U.d)(_.g,Object(g.b)((function(e){return{initialized:e.app.initialized,globalError:e.app.globalError,isAuth:e.auth.isAuth,newMessagesCount:e.dialogsPage.newMessagesCount}}),{initializeApp:C.initializedSuccess,showGlobalError:function(e){return function(t){t(C.setGlobalError(e)),setTimeout((function(){t(C.setGlobalError(""))}),5e3)}},getNewMessages:A.f}))(pe),me=function(){return a.a.createElement(p.a,null,a.a.createElement(g.a,{store:F},a.a.createElement(ge,null)))};u.a.render(a.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var r=n(3),a=n.n(r),s=n(7),u=n(2),c=n(4),o=n(29),i={userId:null,login:null,email:null,isAuth:!1,captchaUrl:null},l=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,u,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.c.me();case 2:0===(n=e.sent).resultCode&&(r=n.data,s=r.id,u=r.login,o=r.email,t(g.setUserData(s,u,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t,n,r){return function(){var u=Object(s.a)(a.a.mark((function s(u){var i,f;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.c.login(e,t,n,r);case 2:(i=a.sent).resultCode===c.b.Success?u(l()):(i.resultCode===c.a.CaptchaIsRequired&&u(p()),f=i.messages.length>0?i.messages[0]:"Some error",u(Object(o.a)("login",{_error:f})));case 4:case"end":return a.stop()}}),s)})));return function(e){return u.apply(this,arguments)}}()},d=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.c.logout();case 2:e.sent.resultCode===c.b.Success&&t(g.setUserData(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.f.getCaptchaUrl();case 2:n=e.sent,r=n.url,t(g.getCaptchaUrlSucces(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g={setUserData:function(e,t,n,r){return{type:"SET_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:r}}},getCaptchaUrlSucces:function(e){return{type:"GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"GET_CAPTCHA_URL_SUCCESS":return Object(u.a)(Object(u.a)({},e),t.payload);default:return e}}},28:function(e,t,n){e.exports={button:"Buttons_button__2eQKC",smallButton:"Buttons_smallButton__1Jsex",container:"Buttons_container__2azRG",disabled:"Buttons_disabled__1kKZn",pagesButton:"Buttons_pagesButton__2pL9a",notVisible:"Buttons_notVisible__1SLSF",addFileButton:"Buttons_addFileButton__1gjdR"}},38:function(e,t,n){e.exports={nav:"Navbar_nav__3q_0Z",item:"Navbar_item__LOgOL",activeLink:"Navbar_activeLink__YYTLs",newMessagesCount:"Navbar_newMessagesCount__3LywA"}},39:function(e,t,n){e.exports={friend:"Friends_friend__1Kgc2",friends:"Friends_friends__QjZXu",header:"Friends_header__1T6F2",container:"Friends_container__3y0dJ"}},4:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return f}));var r,a,s=n(88),u=n.n(s).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"cfaface2-28da-4d76-88dc-dbbe029d9acd"}}),c={getUsers:function(e,t){return u.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return u.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return u.delete("follow/".concat(e)).then((function(e){return e.data}))}},o={getProfile:function(e){return u.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return u.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return u.put("/profile/status",{status:e}).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),u.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},saveProfile:function(e){return u.put("/profile",e).then((function(e){return e.data}))}};!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}));var i={me:function(){return u.get("auth/me").then((function(e){return e.data}))},login:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return u.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},logout:function(){return u.delete("auth/login").then((function(e){return e.data}))}},l={getCaptchaUrl:function(){return u.delete("security/get-captcha-url").then((function(e){return e.data}))}},f={getDialogs:function(){return u.get("dialogs").then((function(e){return e.data}))},startDialog:function(e){return u.put("dialogs/".concat(e)).then((function(e){return e.data}))},getMessages:function(e){return u.get("dialogs/".concat(e,"/messages")).then((function(e){return{messages:e.data.items,totalCount:e.data.totalCount}}))},sendMessage:function(e,t){return u.post("dialogs/".concat(e,"/messages"),{body:t}).then((function(e){return e.data}))},getNewMessagesCount:function(){return u.get("dialogs/messages/new/count").then((function(e){return e.data}))},getMessagesNewerThenLast:function(e,t){return u.get("dialogs/".concat(e,"/messages/new?newerThen=").concat(t)).then((function(e){return e.data}))},deleteMessageForOwner:function(e){return u.delete("dialogs/messages/".concat(e)).then((function(e){return e.data}))},restoreMessage:function(e){return u.put("dialogs/messages/".concat(e,"/restore")).then((function(e){return e.data}))},addToSpam:function(e){return u.post("dialogs/messages/".concat(e,"/spam")).then((function(e){return e.data}))}}},48:function(e,t,n){"use strict";n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"e",(function(){return b})),n.d(t,"h",(function(){return S})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return v}));var r=n(3),a=n.n(r),s=n(7),u=n(16),c=n(2),o=n(4),i={dialogs:[],messages:[],selectedDialogId:null,newMessagesCount:0,needRefresh:!1,currentDialogMessagesCount:0,deletedMessages:[]},l=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.d.getDialogs();case 2:n=e.sent,t(v.getDialogsSuccess(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.d.sendMessage(e,t);case 2:r(v.setNeedRefresh(!0)),r(v.putUpDialog(e));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.d.startDialog(e);case 2:s=r().dialogsPage.dialogs.find((function(t){return t.id==e})),n(s?v.putUpDialog(e):l());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=Object(s.a)(a.a.mark((function n(r,s){var u,c,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=s(),!((c=u.dialogsPage.messages).length>0&&c[c.length-1].viewed)||t){n.next=6;break}r(b(e,c[c.length-1].addedAt)),n.next=12;break;case 6:return n.next=8,o.d.getMessages(e);case 8:(i=n.sent).messages.some((function(e){return!e.viewed}))&&r(v.setNeedRefresh(!0)),r(v.getMessagesSuccess(i.messages,i.totalCount)),r(v.setHasNewMessages(e,!1));case 12:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=8;break}return n(p(e)),n(v.setCurrentDialog(e)),t.next=5,n(d(e));case 5:n(l()),t.next=9;break;case 8:n(l());case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(t){e?(t(v.setNeedRefresh(!0)),t(p(e,!0)),t(v.setCurrentDialog(e))):t(v.setCurrentDialog(null))}},h=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t,n){var r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.d.getNewMessagesCount();case 2:r=e.sent,((s=n()).dialogsPage.newMessagesCount!==r||s.dialogsPage.needRefresh)&&(t(v.setNewMessagesCount(r)),t(l()),t(v.setNeedRefresh(!1)),null!==s.dialogsPage.selectedDialogId&&t(p(Number(s.dialogsPage.selectedDialogId))));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.d.deleteMessageForOwner(e);case 2:t.sent.resultCode===o.b.Success&&(s=setTimeout((function(){n(v.deleteMessageForOwnerSuccess(e))}),5e3),n(v.addDeletedMessages(e,s)));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},b=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r,s){var u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.d.getMessagesNewerThenLast(e,t);case 2:u=n.sent,r(v.appendMessages(u));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var s,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.d.restoreMessage(e);case 2:t.sent.resultCode===o.b.Success&&(s=r().dialogsPage.deletedMessages,(u=s.find((function(t){return t.id===e})))&&clearInterval(u.restoredInterval),n(v.restoreMessageSuccess(e)));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.d.addToSpam(e);case 2:t.sent.resultCode===o.b.Success&&n(v.addToSpamSuccess(e));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIALOGS_SUCCESS":case"SET_CURRENT_DIALOG":case"GET_MESSAGES_SUCCESS":case"SET_NEW_MESSAGES_COUNT":case"SET_NEED_REFRESH":return Object(c.a)(Object(c.a)({},e),t.payload);case"PUT_UP_DIALOG":var n=e.dialogs.find((function(e){return e.id==t.userId}));return n?Object(c.a)(Object(c.a)({},e),{},{dialogs:[n].concat(Object(u.a)(e.dialogs.filter((function(e){return e.id!=t.userId}))))}):e;case"DELETE_MESSAGE_FOR_OWNER":return Object(c.a)(Object(c.a)({},e),{},{messages:e.messages.filter((function(e){return e.id!==t.messageId}))});case"SET_HAS_NEW_MESSAGES":return Object(c.a)(Object(c.a)({},e),{},{dialogs:e.dialogs.map((function(e){return e.id==t.userId?Object(c.a)(Object(c.a)({},e),{},{hasNewMessages:t.hasNewMessages}):e}))});case"APPEND_MESSAGES":return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(u.a)(e.messages),Object(u.a)(t.messages))});case"ADD_DELETED_MESSAGES":return Object(c.a)(Object(c.a)({},e),{},{deletedMessages:[].concat(Object(u.a)(e.deletedMessages),[t.message])});case"RESTORE_MESSAGE":return Object(c.a)(Object(c.a)({},e),{},{deletedMessages:e.deletedMessages.filter((function(e){return e.id!==t.messageId}))});case"ADD_TO_SPAM_SUCCESS":return Object(c.a)(Object(c.a)({},e),{},{messages:e.messages.filter((function(e){return e.id!==t.messageId}))});default:return e}};var v={setCurrentDialog:function(e){return{type:"SET_CURRENT_DIALOG",payload:{selectedDialogId:e}}},getMessagesSuccess:function(e,t){return{type:"GET_MESSAGES_SUCCESS",payload:{messages:e,currentDialogMessagesCount:t}}},putUpDialog:function(e){return{type:"PUT_UP_DIALOG",userId:e}},setHasNewMessages:function(e,t){return{type:"SET_HAS_NEW_MESSAGES",userId:e,hasNewMessages:t}},appendMessages:function(e){return{type:"APPEND_MESSAGES",messages:e}},addDeletedMessages:function(e,t){return{type:"ADD_DELETED_MESSAGES",message:{id:e,restoredInterval:t}}},restoreMessageSuccess:function(e){return{type:"RESTORE_MESSAGE",messageId:e}},deleteMessageForOwnerSuccess:function(e){return{type:"DELETE_MESSAGE_FOR_OWNER",messageId:e}},addToSpamSuccess:function(e){return{type:"ADD_TO_SPAM_SUCCESS",messageId:e}},getDialogsSuccess:function(e){return{type:"GET_DIALOGS_SUCCESS",payload:{dialogs:e}}},setNewMessagesCount:function(e){return{type:"SET_NEW_MESSAGES_COUNT",payload:{newMessagesCount:e}}},setNeedRefresh:function(e){return{type:"SET_NEED_REFRESH",payload:{needRefresh:e}}}}},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(26),a=n(0),s=n.n(a),u=n(28),c=n.n(u),o=n(53),i=n.n(o),l=function(e){return s.a.createElement("button",{onClick:e.callback,className:c.a.button},e.name)},f=function(e){return s.a.createElement("button",{onClick:e.callback,disabled:e.disabled,className:i()(c.a.smallButton,Object(r.a)({},c.a.disabled,e.disabled),e.className)},e.name)},d=function(e){return s.a.createElement("button",{onClick:e.callback,className:i()(c.a.pagesButton,Object(r.a)({},c.a.notVisible,!e.isVisible))},e.name)},p=function(e){return s.a.createElement("div",{className:c.a.addFileButton},s.a.createElement("label",{htmlFor:"input"},e.name),s.a.createElement("input",{onChange:e.callback,type:"file",id:"input"}))}},51:function(e,t,n){"use strict";var r=n(0),a=n.n(r),s=n(89),u=n.n(s);t.a=function(){return a.a.createElement("div",null,a.a.createElement("img",{src:u.a,alt:""}))}},61:function(e,t,n){e.exports={header:"Header_header__2MnG6",loginBlock:"Header_loginBlock__U7kKN"}},62:function(e,t,n){e.exports={img:"NotFound_img__2b7U0",container:"NotFound_container__3zDzn"}},65:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return E}));var r=n(26),a=n(3),s=n.n(a),u=n(7),c=n(16),o=n(2),i=n(4),l=n(29),f={postsData:[{id:0,message:"Hi, how are you",likesCount:5,img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"},{id:1,message:"It's my first post",likesCount:20,img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"}],profile:null,status:"",newPostText:""},d=function(e){return function(){var t=Object(u.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.getProfile(e);case 2:r=t.sent,n(E.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(u.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.getStatus(e);case 2:r=t.sent,n(E.setStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(u.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.updateStatus(e);case 2:t.sent.resultCode===i.b.Success&&n(E.setStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(u.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.savePhoto(e);case 2:(r=t.sent).resultCode===i.b.Success&&n(E.sevePhotoSuccess(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(u.a)(s.a.mark((function t(n,a){var u,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=a().auth.userId,t.next=3,i.e.saveProfile(e);case 3:if((c=t.sent).resultCode!==i.b.Success){t.next=8;break}n(d(u)),t.next=11;break;case 8:return"Some error"!==(o=c.messages.length>0?c.messages[0]:"Some error")?(o=(o=(o=o.split("->"))[1].toLocaleLowerCase()).slice(0,o.length-1),n(Object(l.a)("profile-data",{contacts:Object(r.a)({},o,response.data.messages[0])}))):n(Object(l.a)("profile-data",o)),t.abrupt("return",Promise.reject(response.data.messages[0]));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:e.postsData.length,message:t.newPostText,likesCount:0,img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"};return Object(o.a)(Object(o.a)({},e),{},{postsData:[].concat(Object(c.a)(e.postsData),[n]),newPostText:""});case"SET_USER_PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(o.a)(Object(o.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id.toString()!==t.postId}))});case"SAVE_PHOTO_SUCCESS":return Object(o.a)(Object(o.a)({},e),{},{profile:Object(o.a)(Object(o.a)({},e.profile),{},{photos:t.photos})});case"UPDATE_POST":return Object(o.a)(Object(o.a)({},e),{},{postsData:e.postsData.map((function(e){return e.id.toString()===t.postId?Object(o.a)(Object(o.a)({},e),{},{message:t.message}):e}))});default:return e}};var E={addPost:function(e){return{type:"ADD_POST",newPostText:e}},deletePost:function(e){return{type:"DELETE_POST",postId:e}},setUserProfile:function(e){return{type:"SET_USER_PROFILE",profile:e}},setStatus:function(e){return{type:"SET_STATUS",status:e}},sevePhotoSuccess:function(e){return{type:"SAVE_PHOTO_SUCCESS",photos:e}},updatePost:function(e,t){return{type:"UPDATE_POST",postId:e,message:t}}}},86:function(e,t,n){"use strict";var r=n(3),a=n.n(r),s=n(7),u=n(16),c=n(2),o=n(4),i=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(c.a)(Object(c.a)({},e),r):e}))};n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return g}));var l={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},f=(t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(c.a)(Object(c.a)({},e),{},{users:i(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(c.a)(Object(c.a)({},e),{},{users:i(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(c.a)(Object(c.a)({},e),{},{users:Object(u.a)(t.users)});case"SET_TOTAL_USERS_COUNT":return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"SET_CURRENT_PAGE":return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case"TOGGLE_IS_FETCHING":return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_FOLLOWING_IN_PROGRESS":return Object(c.a)(Object(c.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(u.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r,s){var u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(m.toggleIsFetching(!0)),n.next=3,o.g.getUsers(e,t);case 3:u=n.sent,r(m.toggleIsFetching(!1)),r(m.setUsers(u.items)),r(m.setCurrentPage(e)),r(m.setTotalUsersCount(u.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}),d=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(m.toggleFollowingInProgress(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(s(n)),t(m.toggleFollowingInProgress(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),p=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d(n,e,o.g.follow.bind(o.g),m.followSuccess);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d(n,e,o.g.unfollow.bind(o.g),m.unfollowSuccess);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m={followSuccess:function(e){return{type:"FOLLOW",userId:e}},unfollowSuccess:function(e){return{type:"UNFOLLOW",userId:e}},setUsers:function(e){return{type:"SET_USERS",users:e}},setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},setTotalUsersCount:function(e){return{type:"SET_TOTAL_USERS_COUNT",totalUsersCount:e}},toggleIsFetching:function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},toggleFollowingInProgress:function(e,t){return{type:"TOGGLE_FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}}}},89:function(e,t,n){e.exports=n.p+"static/media/preloader.ade7b44c.svg"},92:function(e,t,n){e.exports=n.p+"static/media/logoSite.32fdec1a.png"},93:function(e,t,n){e.exports=n.p+"static/media/404NotFound.1b28b096.jpg"},94:function(e,t,n){e.exports=n.p+"static/media/oopsPhoto.23d24fde.jpg"},95:function(e,t,n){e.exports={container:"ErrorBoundary_container__1AWef"}}},[[144,2,3]]]);
//# sourceMappingURL=main.ba383b0f.chunk.js.map