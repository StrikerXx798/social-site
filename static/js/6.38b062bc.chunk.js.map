{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","assets/images/user.svg","components/Users/Users.module.css","common/Paginator/Paginator.module.css","components/Users/User/User.module.css","common/Paginator/Paginator.tsx","components/Users/User/User.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","_objectWithoutProperties","source","excluded","key","target","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","module","exports","Paginator","totalItemsCount","currentPage","pageSize","onPageChanged","portionSize","pagesCount","Math","ceil","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","usersPage","className","s","usersPages","isVisible","name","callback","filter","p","map","onClick","page","User","user","followingInProgress","unfollow","follow","photoButton","to","id","photo","src","photos","small","userPhoto","alt","buttons","followed","disabled","some","userData","columnSpaceBetween","nameStatus","status","Users","totalUsersCount","isFetching","users","props","usersContainer","Preloader","getUsers","state","getTotalUsersCount","getPageSize","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","this","pageTitle","React","Component","compose","connect"],"mappings":"8HAIe,SAASA,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKb,EAAII,OAAOC,cAAmBG,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAEThB,GAAKM,EAAKW,SAAWjB,GAH8CO,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAmB,EAAA,GAA2BpB,EAAKC,IGLjF,WACb,MAAM,IAAIoB,UAAU,6IHIgF,GALtG,mC,iCICe,SAASC,EAAyBC,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIE,EAAKxB,EADLyB,ECHS,SAAuCH,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIE,EAAKxB,EAFLyB,EAAS,GACTC,EAAarB,OAAOsB,KAAKL,GAG7B,IAAKtB,EAAI,EAAGA,EAAI0B,EAAWT,OAAQjB,IACjCwB,EAAME,EAAW1B,GACbuB,EAASK,QAAQJ,IAAQ,IAC7BC,EAAOD,GAAOF,EAAOE,IAGvB,OAAOC,EDTM,CAA6BH,EAAQC,GAGlD,GAAIlB,OAAOwB,sBAAuB,CAChC,IAAIC,EAAmBzB,OAAOwB,sBAAsBP,GAEpD,IAAKtB,EAAI,EAAGA,EAAI8B,EAAiBb,OAAQjB,IACvCwB,EAAMM,EAAiB9B,GACnBuB,EAASK,QAAQJ,IAAQ,GACxBnB,OAAO0B,UAAUC,qBAAqBC,KAAKX,EAAQE,KACxDC,EAAOD,GAAOF,EAAOE,IAIzB,OAAOC,EAjBT,mC,oBEAAS,EAAOC,QAAU,IAA0B,kC,oBCC3CD,EAAOC,QAAU,CAAC,eAAiB,gC,oBCAnCD,EAAOC,QAAU,CAAC,WAAa,8BAA8B,KAAO,wBAAwB,YAAc,iC,oBCA1GD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,YAAc,0BAA0B,QAAU,sBAAsB,MAAQ,oBAAoB,SAAW,uBAAuB,mBAAqB,iCAAiC,WAAa,yBAAyB,WAAa,2B,kKC2C5QC,EAhCwB,SAAC,GAepC,IAfmH,IAA9EC,EAA6E,EAA7EA,gBAAiBC,EAA4D,EAA5DA,YAAaC,EAA+C,EAA/CA,SAAUC,EAAqC,EAArCA,cAAqC,IAAtBC,mBAAsB,MAAR,GAAQ,EAC5GC,EAAaC,KAAKC,KAAKP,EAAkBE,GACzCM,EAAeF,KAAKC,KAAKF,EAAaD,GAFsE,EAG1EK,mBAAS,GAHiE,mBAG7GC,EAH6G,KAG9FC,EAH8F,KAI5GC,GAAyBF,EAAgB,GAAKN,EAAc,EAC5DS,EAAyBH,EAAgBN,EASzCU,EAA2B,GACxBnD,EAAI,EAAGA,EAAI0C,EAAW,EAAG1C,IAAKmD,EAAUpC,KAAKf,GACtD,OAAO,yBAAKoD,UAAWC,IAAEC,YACrB,kBAAC,IAAD,CAAaC,UAAWR,EAAc,EAAGS,KAAK,OAAOC,SAV/B,WACtBT,EAAiBD,EAAgB,MAUhCI,EAAUO,QAAO,SAAAC,GAAC,OAAIA,GAAGV,GAAuBU,GAAGT,KAC/CU,KAAI,SAAAD,GAAC,OAAI,yBAAKnC,IAAKmC,EAChBE,QAAS,WACLrB,EAAcmB,KAGlB,0BAAMP,UAAWO,IAAMrB,EAAN,UAAuBe,IAAES,KAAzB,YAAiCT,IAAEf,aAAgBe,IAAES,MAAOH,OAGrF,kBAAC,IAAD,CAAaH,KAAK,OAAOD,UAAWR,EAAcF,EAAcY,SAjB1C,WACtBT,EAAiBD,EAAgB,Q,4CCiC1BgB,EA1CmB,SAAC,GAAmD,IAAlDC,EAAiD,EAAjDA,KAAMC,EAA2C,EAA3CA,oBAAqBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,OACrE,OAAQ,yBAAKf,UAAWC,IAAEW,MAClB,yBAAKZ,UAAWC,IAAEe,aACd,6BACI,kBAAC,IAAD,CAASC,GAAE,mBAAcL,EAAKM,KAC1B,yBAAKlB,UAAWC,IAAEkB,MAAOC,IAAKR,EAAKS,OAAOC,MAAQV,EAAKS,OAAOC,MAAQC,IAAWC,IAAI,QAIjG,6BACI,yBAAKxB,UAAWC,IAAEwB,SACbb,EAAKc,SACF,kBAAC,IAAD,CAAatB,KAAK,WAAWuB,SAAUd,EAAoBe,MAAK,SAAAV,GAAE,OAAIA,IAAON,EAAKM,MACrEb,SAAU,WACNS,EAASF,EAAKM,OAG/B,kBAAC,IAAD,CAAad,KAAK,SAASuB,SAAUd,EAAoBe,MAAK,SAAAV,GAAE,OAAIA,IAAON,EAAKM,MACnEb,SAAU,WACNU,EAAOH,EAAKM,QAIrC,kBAAC,IAAD,CAASD,GAAE,kBAAaL,EAAKM,KACzB,kBAAC,IAAD,CAAad,KAAK,mBAG1B,yBAAKJ,UAAWC,IAAE4B,UACd,yBAAK7B,UAAS,UAAKC,IAAE6B,mBAAP,YAA6B7B,IAAE8B,aACzC,6BAAMnB,EAAKR,MACX,6BAAMQ,EAAKoB,SAEf,yBAAKhC,UAAWC,IAAE6B,oBACd,6BAAM,sBACN,6BAAM,6BCLXG,EAxBoB,SAAC,GAQO,IAPHC,EAOE,EAPFA,gBACAhD,EAME,EANFA,YACAC,EAKE,EALFA,SACAC,EAIE,EAJFA,cACA+C,EAGE,EAHFA,WACAC,EAEE,EAFFA,MACGC,EACD,iGACtC,OACI,yBAAKrC,UAAWC,IAAEqC,gBACbH,EAAa,kBAACI,EAAA,EAAD,MAAe,qCAC7B,kBAAC,EAAD,CAAWtD,gBAAiBiD,EAAiBhD,YAAaA,EAAaC,SAAUA,EACtEC,cAAeA,EAAeC,YAAa,KACrD+C,EAAM5B,KAAI,SAAAI,GAAI,OAAI,kBAAC,EAAD,CAAMA,KAAMA,EACNC,oBAAqBwB,EAAMxB,oBAC3BE,OAAQsB,EAAMtB,OACdD,SAAUuB,EAAMvB,SAChB1C,IAAKwC,EAAKM,U,QCnClCsB,EAAW,SAACC,GACrB,OAAOA,EAAM1C,UAAUqC,OAGdM,EAAqB,SAACD,GAC/B,OAAOA,EAAM1C,UAAUmC,iBAEdS,EAAc,SAACF,GACxB,OAAOA,EAAM1C,UAAUZ,UAEdyD,EAAiB,SAACH,GAC3B,OAAOA,EAAM1C,UAAUb,aAEd2D,EAAgB,SAACJ,GAC1B,OAAOA,EAAM1C,UAAUoC,YAEdW,EAAyB,SAACL,GACnC,OAAOA,EAAM1C,UAAUc,qB,gBCuBrBkC,E,4MAMF3D,cAAgB,SAAC4D,GAAwB,IAC9B7D,EAAY,EAAKkD,MAAjBlD,SACP,EAAKkD,MAAMY,aAAaD,EAAY7D,I,kEAPnB,IAAD,EACgB+D,KAAKb,MAA9BnD,EADS,EACTA,YAAaC,EADJ,EACIA,SACpB+D,KAAKb,MAAMY,aAAa/D,EAAaC,K,+BASrC,OAAO,oCACH,4BAAK+D,KAAKb,MAAMc,WAEZD,KAAKb,MAAMF,WAEP,kBAACI,EAAA,EAAD,MAEA,KAER,kBAAC,EAAD,iBACQW,KAAKb,MADb,CAEIjD,cAAe8D,KAAK9D,sB,GAvBPgE,IAAMC,WAsCpBC,sBAEXC,aAboB,SAACd,GACrB,MAAO,CACHL,MAAOI,EAASC,GAChBP,gBAAiBQ,EAAmBD,GACpCtD,SAAUwD,EAAYF,GACtBvD,YAAa0D,EAAeH,GAC5BN,WAAYU,EAAcJ,GAC1B5B,oBAAqBiC,EAAuBL,MAM8C,CACtF1B,WACAD,aACAmC,mBALGK,CASbP","file":"static/js/6.38b062bc.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","module.exports = __webpack_public_path__ + \"static/media/user.d9b884d2.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersContainer\":\"Users_usersContainer__1rpnL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPages\":\"Paginator_usersPages__kzs8I\",\"page\":\"Paginator_page__13ON0\",\"currentPage\":\"Paginator_currentPage__15HiL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__12Xs_\",\"photoButton\":\"User_photoButton__16Sby\",\"buttons\":\"User_buttons__1VI5s\",\"photo\":\"User_photo__2-KCB\",\"userData\":\"User_userData__1L8h7\",\"columnSpaceBetween\":\"User_columnSpaceBetween__2RZct\",\"nameStatus\":\"User_nameStatus__3-Q8i\",\"usersPages\":\"User_usersPages__2OxQ3\"};","import React, {useState} from 'react';\nimport s from './Paginator.module.css'\nimport {PagesButton} from \"../../components/common/Buttons/Buttons\";\n\n\ntype PropsType = {\n    totalItemsCount: number\n    currentPage: number\n    pageSize: number\n    onPageChanged: (pageNumber: number) => void\n    portionSize?: number\n}\nconst Paginator: React.FC<PropsType> = ({totalItemsCount, currentPage, pageSize, onPageChanged, portionSize = 10}) => {\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\n    const portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    const rightPortionPageNumber = portionNumber * portionSize;\n\n    const onPrevButtonClick = () => {\n        setPortionNumber(portionNumber - 1);\n    };\n    const onNextButtonClick = () => {\n        setPortionNumber(portionNumber + 1);\n    };\n\n    const usersPage: Array<number> = [];\n    for (let i = 1; i < pagesCount+1; i++) usersPage.push(i);\n    return <div className={s.usersPages}>\n        <PagesButton isVisible={portionNumber>1} name=\"PREV\" callback={onPrevButtonClick}/>\n        {usersPage.filter(p => p>=leftPortionPageNumber&&p<=rightPortionPageNumber)\n            .map(p => <div key={p}\n                onClick={() => {\n                    onPageChanged(p)\n                }}\n               >\n                <span className={p === currentPage ? `${s.page} ${s.currentPage}` : s.page}>{p}</span>\n            </div>\n        )}\n        <PagesButton name=\"NEXT\" isVisible={portionNumber<portionCount} callback={onNextButtonClick}/>\n    </div>\n};\n\n\nexport default Paginator;","import React from 'react';\nimport s from './User.module.css'\nimport userPhoto from '../../../assets/images/user.svg'\nimport {NavLink} from \"react-router-dom\";\nimport {SmallButton} from \"../../common/Buttons/Buttons\";\nimport {UserType} from \"../../../types/types\";\n\ntype PropsType = {\n    user: UserType\n    followingInProgress: Array<number>\n    unfollow: (userId: number) => void\n    follow: (userId: number) => void\n}\n\nconst User: React.FC<PropsType> = ({user, followingInProgress, unfollow, follow}) => {\n    return (<div className={s.user}>\n            <div className={s.photoButton}>\n                <div>\n                    <NavLink to={`/profile/${user.id}`}>\n                        <img className={s.photo} src={user.photos.small ? user.photos.small : userPhoto} alt=\"\"/>\n                    </NavLink>\n                </div>\n            </div>\n            <div>\n                <div className={s.buttons}>\n                    {user.followed ?\n                        <SmallButton name=\"Unfollow\" disabled={followingInProgress.some(id => id === user.id)}\n                                     callback={() => {\n                                         unfollow(user.id)\n                                     }}\n                        /> :\n                        <SmallButton name=\"Follow\" disabled={followingInProgress.some(id => id === user.id)}\n                                     callback={() => {\n                                         follow(user.id)\n                                     }}\n                        />\n                    }</div>\n                <NavLink to={`dialogs/${user.id}`}>\n                    <SmallButton name=\"Send message\"/>\n                </NavLink>\n            </div>\n            <div className={s.userData}>\n                <div className={`${s.columnSpaceBetween} ${s.nameStatus}`}>\n                    <div>{user.name}</div>\n                    <div>{user.status}</div>\n                </div>\n                <div className={s.columnSpaceBetween}>\n                    <div>{\"user.location.city\"}</div>\n                    <div>{\"user.location.country\"}</div>\n                </div>\n            </div>\n        </div>\n    )\n};\n\n\nexport default User;","import React from 'react';\nimport s from './Users.module.css'\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport Paginator from \"../../common/Paginator/Paginator\";\nimport User from \"./User/User\";\nimport {UserType} from \"../../types/types\";\n\ntype PropsType = {\n    totalUsersCount: number\n    currentPage: number\n    pageSize: number\n    onPageChanged: (pageNumber: number) => void\n    users: Array<UserType>\n    isFetching: boolean\n    followingInProgress: Array<number>\n    unfollow: (userId: number) => void\n    follow: (userId: number) => void\n}\n\nconst Users: React.FC<PropsType> = ({\n                                        totalUsersCount,\n                                        currentPage,\n                                        pageSize,\n                                        onPageChanged,\n                                        isFetching,\n                                        users,\n                                        ...props\n                                    }) => {\n    return (\n        <div className={s.usersContainer}>\n            {isFetching ? <Preloader/> : <></>}\n            <Paginator totalItemsCount={totalUsersCount} currentPage={currentPage} pageSize={pageSize}\n                       onPageChanged={onPageChanged} portionSize={15}/>\n            {users.map(user => <User user={user}\n                                     followingInProgress={props.followingInProgress}\n                                     follow={props.follow}\n                                     unfollow={props.unfollow}\n                                     key={user.id}\n            />)}\n        </div>\n    )\n};\n\nexport default Users;","import {AppStateType} from \"./redux-store\";\n\nexport const getUsers = (state: AppStateType) =>{\n    return state.usersPage.users\n};\n\nexport const getTotalUsersCount = (state: AppStateType) =>{\n    return state.usersPage.totalUsersCount\n};\nexport const getPageSize = (state: AppStateType) =>{\n    return state.usersPage.pageSize\n};\nexport const getCurrentPage = (state: AppStateType) =>{\n    return state.usersPage.currentPage\n};\nexport const getIsFetching = (state: AppStateType) =>{\n    return state.usersPage.isFetching\n};\nexport const getFollowingInProgress = (state: AppStateType) =>{\n    return state.usersPage.followingInProgress\n};\n","import React from 'react';\nimport Users from \"./Users\";\nimport {\n    follow, requestUsers,\n    unfollow\n} from \"../../redux/users-reducer\";\n/*import {withAuthRedirect} from \"../../hoc/withAuthRedirect\";*/\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount,\n    getUsers\n} from \"../../redux/users-selectors\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport {UserType} from \"../../types/types\";\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {compose} from \"redux\";\nimport {connect} from \"react-redux\";\n\ntype MapStatePropsType = {\n    currentPage: number\n    pageSize: number\n    isFetching: boolean\n    totalUsersCount: number\n    users: Array<UserType>\n    followingInProgress: Array<number>\n}\n\ntype MapDispatchPropsType = {\n    requestUsers: (currentPage: number, pageSize: number) => void\n    unfollow: (userId: number) => void\n    follow: (userId: number) => void\n}\n\ntype OwnPropsType = {\n    pageTitle: string\n}\n\ntype PropsType = MapStatePropsType & MapDispatchPropsType & OwnPropsType;\n\nclass UsersContainer extends React.Component<PropsType> {\n    componentDidMount() {\n        const {currentPage, pageSize} = this.props;\n        this.props.requestUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        const {pageSize} = this.props;\n        this.props.requestUsers(pageNumber, pageSize);\n    };\n\n    render() {\n        return <>\n            <h2>{this.props.pageTitle}</h2>\n            {\n                this.props.isFetching\n                    ?\n                    <Preloader/>\n                    :\n                    null\n            }\n            <Users\n                {...this.props}\n                onPageChanged={this.onPageChanged}/></>\n    }\n}\n\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\n    return {\n        users: getUsers(state),\n        totalUsersCount: getTotalUsersCount(state),\n        pageSize: getPageSize(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n    }\n};\n\nexport default compose(\n    //<TStateProps = {}, TDispatchProps = {}, TOwnProps = {}, State = DefaultRootState>\n    connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>(mapStateToProps, {\n            follow,\n            unfollow,\n            requestUsers,\n        }\n    ),\n    /*withAuthRedirect*/\n)(UsersContainer);"],"sourceRoot":""}